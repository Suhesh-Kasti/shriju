// Custom styling for code blocks to fix spacing issues

// Target all code blocks
pre {
  margin: 1.5rem 0;
  
  // Remove extra spacing between lines in code blocks
  code {
    line-height: 1.5;
    
    // This is the key fix - remove extra spacing between lines
    br {
      display: none;
    }
    
    // Ensure consistent spacing
    & > * {
      margin: 0 !important;
      padding: 0 !important;
    }
  }
}

// Style for inline code
:not(pre) > code {
  background-color: rgba(65, 34, 142, 0.05);
  color: $color-primary;
  padding: 2px 5px;
  border-radius: 3px;
  font-family: monospace;
  font-size: 0.9em;
}

// Syntax highlighting improvements
.highlight {
  pre {
    padding: 1rem;
    border-radius: 8px;
    background-color: #2d2d2d;
    
    code {
      color: #f8f8f2;
      
      // Ensure no extra spacing between lines
      display: grid;
      grid-auto-rows: min-content;
      gap: 0;
    }
  }
}

// Specific language styling
.language-php, .language-css, .language-yaml, .language-yml {
  .line {
    margin: 0 !important;
    padding: 0 !important;
    min-height: 0 !important;
  }
}

// Fix for Hugo's code rendering
.highlight {
  div.chroma {
    .line {
      height: auto !important;
      min-height: 0 !important;
    }
  }
}

// Ensure proper spacing in code blocks
pre code {
  display: block;
  padding: 1em;
  overflow-x: auto;
  
  // This ensures lines are tightly packed
  & > span {
    display: block;
    line-height: 1.5;
    margin: 0 !important;
    padding: 0 !important;
  }
}
